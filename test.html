<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>jquery.localtime test script</title>
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
	<script type="text/javascript" src="jquery.localtime.js"></script>
	<script type="text/javascript" src="http://github.com/jquery/qunit/raw/master/qunit/qunit.js"></script>
	<link rel="stylesheet" href="http://github.com/jquery/qunit/raw/master/qunit/qunit.css" type="text/css" media="screen" />

	<script type="text/javascript">
		$(document).ready(function(){
    
			module( "Limited ISO 8601 parsing" );
			
			test("Parse no seconds", function() {
				deepEqual( new Date( Date.UTC(2011,0,3,13,39,0,0) ), $.localtime.parseISOTimeString("2011-01-03 13:39Z"), "No seconds present" );
			});
			test("Parse with seconds", function() {
				deepEqual( new Date( Date.UTC(2011,0,3,13,39,30,0) ), $.localtime.parseISOTimeString("2011-01-03 13:39:30Z"), "Seconds only present" );
			});
			test("Parse with milliseconds", function() {
				deepEqual( new Date( Date.UTC(2011,0,3,13,39,30,300) ), $.localtime.parseISOTimeString("2011-01-03 13:39:30.300Z"), "Milliseconds present" );
			});
			test("Bad length", function() {
				raises( function() { $.localtime.parseISOTimeString("foobar"), "Invalid length" } );
			});
			test("Bad year", function() {
				raises( function() { $.localtime.parseISOTimeString("YYYY-01-03 13:39:30.300Z"), "Invalid year" } );
			});
			test("Bad month", function() {
				raises( function() { $.localtime.parseISOTimeString("2011-MM-03 13:39:30.300Z"), "Invalid month" } );
				raises( function() { $.localtime.parseISOTimeString("2011-13-03 13:39:30.300Z"), "Invalid month - too large" } );
			});
			test("Bad day", function() {
				raises( function() { $.localtime.parseISOTimeString("2011-01-dd 13:39:30.300Z"), "Invalid day" } );
				raises( function() { $.localtime.parseISOTimeString("2011-01-32 13:39:30.300Z"), "Invalid day - too large" } );
			});
			test("Bad minute", function() {
				raises( function() { $.localtime.parseISOTimeString("2011-01-03 13:hh:30.300Z"), "Invalid hour" } );
				raises( function() { $.localtime.parseISOTimeString("2011-01-03 13:61:30.300Z"), "Invalid hour - too large" } );
			});
			test("Bad hour", function() {
				raises( function() { $.localtime.parseISOTimeString("2011-01-03 13:39:mm.300Z"), "Invalid minute" } );
				raises( function() { $.localtime.parseISOTimeString("2011-01-03 13:39:61.300Z"), "Invalid minute - too large" } );
			});
			test("Bad millisecond", function() {
				raises( function() { $.localtime.parseISOTimeString("2011-01-03 13:39:30.sssZ"), "Invalid millisecond" } );
			});
	
		});
	</script>
  
</head>
<body>
	<h1 id="qunit-header">jquery.localtime test script</h1>
	<h2 id="qunit-banner"></h2>
	<div id="qunit-testrunner-toolbar"></div>
	<h2 id="qunit-userAgent"></h2>
	<ol id="qunit-tests"></ol>
	<div id="qunit-fixture">test markup, will be hidden</div>
</body>
</html>

